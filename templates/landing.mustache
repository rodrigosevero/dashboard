<div class="pp-container">
  <div class="pp-header">
    <h2>{{#str}} welcome_title, local_dashboard {{/str}}, {{userfullname}} ğŸ‘‹</h2>
    <p>{{#str}} welcome_sub, local_dashboard {{/str}}</p>
  </div>

  <div class="pp-grid">
    <!-- Minhas disciplinas -->
    <section class="pp-card">
      <h3>ğŸ“š {{#str}} mycourses, local_dashboard {{/str}}</h3>
      {{#courses}}
        <div class="pp-category-group">
          <h4 class="pp-category-title">{{categoryname}} ({{coursecount}})</h4>
          {{#courses}}
            <a class="pp-item" href="{{url}}"><span class="pp-item-title">{{fullname}}</span></a>
          {{/courses}}
        </div>
      {{/courses}}
      {{#coursesempty}}<p class="pp-empty">{{#str}} nocourses, local_dashboard {{/str}}</p>{{/coursesempty}}
    </section>

    <!-- Mensagens -->
    <section class="pp-card">
      <h3>ğŸ’¬ {{#str}} messages, local_dashboard {{/str}}</h3>
      
      <div class="pp-messages-summary">
        <p class="pp-total-conversations">{{totalunreadconversations}} conversas com mensagens nÃ£o lidas</p>
      </div>
      
      {{#messages}}
        <a class="pp-message-item" href="{{url}}">
          <div class="pp-message-header">
            <span class="pp-message-name">{{name}}</span>
            {{#unread}}<span class="pp-message-unread">{{unreadcount}}</span>{{/unread}}
          </div>
          <div class="pp-message-preview"><span class="pp-message-sender">{{sendername}}</span>{{lastmessage}}</div>
          <div class="pp-message-time">{{timeago}}</div>
        </a>
      {{/messages}}
      {{#messagesempty}}<p class="pp-empty">Nenhuma conversa encontrada.</p>{{/messagesempty}}
    </section>

    <!-- CalendÃ¡rio AcadÃªmico -->
    <section class="pp-card">
      <h3>ğŸ“… {{#str}} announcements, local_dashboard {{/str}}</h3>
      
      <!-- ConteÃºdo de texto/mensagem -->
      {{#announcements}}
        <div class="pp-announcement-content">          
          <div class="pp-announcement-text">{{{fulltext}}}</div>
          <p class="pp-announcement-time">{{time}}</p>
        </div>
      {{/announcements}}
      
      <!-- Banners/Imagens (apÃ³s a mensagem) -->
      {{#banners}}
        <div class="pp-banner-container">
          {{#haslink}}
            <a href="{{link}}" target="_blank" rel="noopener" class="pp-banner-link">
              <img src="{{url}}" alt="{{alt}}" class="pp-banner-image" loading="lazy">
            </a>
          {{/haslink}}
          {{^haslink}}
            <img src="{{url}}" alt="{{alt}}" class="pp-banner-image" loading="lazy">
          {{/haslink}}
        </div>
      {{/banners}}
      
      <!-- Mensagem de fallback apenas se nÃ£o houver nem announcements nem banners -->
      {{^announcements}}
        {{^banners}}
          <p class="pp-empty">{{#str}} noann, local_dashboard {{/str}}</p>
        {{/banners}}
      {{/announcements}}
    </section>
  </div>
</div>
